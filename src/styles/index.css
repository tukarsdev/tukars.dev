:root {
  --dark-green: #001a0e;
  --dark-grey: #171a18;
  --test-green: #007700;
  --test-grey: #5a1a1a;
  --page-bg-color: linear-gradient(to right, #001a0e, #171a18);
}

* {
	box-sizing: border-box;
	font-family: 'Noto Sans', 'Arial';
}

h1 {
	font-family: 'Noto Serif';
}

html {
	overflow-y: scroll;
}

html, body {
	height: 100%;
	margin: 0;
}

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: var(--page-bg-color);
  min-height: 100vh;
  margin: 0;
  background-attachment: fixed;
  color: #f0f0f0;
}

header {
  position: relative;
  width: 100%;
  min-height: 25vh;
  overflow: hidden;
  background-image: url('/video/sample.webp');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
  mask-image: linear-gradient(to bottom, black 0%, 90%, transparent 100%);
  filter: blur(12px);
}

/* ::before for the main, centered, covered image */
header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/video/sample.webp');
  background-size: cover; /* Ensures the image always fills the header height, cropping width */
  background-position: center center; /* Centers the main image */
  background-repeat: no-repeat; /* No repeat for the main image */
  filter: blur(8px); /* Apply the slight blur */
  mask-image: linear-gradient(
    to bottom,
    black 80%,
    transparent 100%
  ); /* The bottom fade blur */
  z-index: 1; /* Keep it below the repeating edges if needed, or adjust */
}

/* ::after for the repeating, blurred edges */
header::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/video/sample.webp');
  /* The trick: use 'contain' and repeat.
     'contain' scales the image down to fit completely within the container.
     Combined with 'repeat-x', it will fill the remaining space on very wide screens. */
  background-size: auto 100%; /* Scale width automatically, but ensure it takes full height */
  background-position: center center; /* Center for initial placement */
  background-repeat: repeat-x; /* Repeat horizontally */
  filter: blur(10px); /* A stronger blur for the repeated edges to make them less distracting */
  mask-image: linear-gradient(
    to bottom,
    black 80%,
    transparent 100%
  ); /* Apply the same bottom fade to the edges */
  z-index: 0; /* Ensures the main image (`::before`) is on top */
}

/*
   To control the minimum visible height and prevent excessive cropping of the
   central image (::before), we can use CSS variables and calc().
   This ensures the main part of the image doesn't get ridiculously wide and thin.
*/
@media (min-aspect-ratio: 16/9) {
  header::before {
    /* On very wide screens, limit the width of the central 'cover' image.
       This value (e.g., 180vh) is a ratio related to its height (30vh).
       Adjust 6x (180vh / 30vh) to match the desired aspect ratio for the
       central image before it starts repeating. */
    width: calc(6 * var(--banner-height-factor, 30vh));
    left: 50%;
    transform: translateX(-50%);
    background-size: cover; /* Still cover, but within this limited width */
  }
}

main {
  flex: 1;
}

footer {
  background: #333;
  color: white;
  text-align: center;
  padding: 1rem;
}